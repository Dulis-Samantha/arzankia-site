<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="noindex" />
<title>Monde des Artistes ‚Äì Arzankia</title>

<style>
  :root{
    --or:#ffd674;
    --ivoire:#fff8e6;
    --verre:rgba(10,0,20,.45);
    --bord:rgba(255,214,116,.55);
    --ray:28px;
  }

  /* ===== Fond + voile ===== */
  body{
    margin:0;
    font-family:Georgia, serif;
    color:var(--ivoire);
    background:url('fond_monde_terre.png') center/cover no-repeat fixed;
    min-height:100svh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    padding:clamp(16px,3vw,48px);
    position:relative;
    isolation:isolate;
    overflow-x:hidden;
  }
  body::before{
    content:""; position:absolute; inset:0; z-index:-1;
    background:linear-gradient(180deg, rgba(10,0,20,.55), rgba(0,0,0,.25) 30%, rgba(0,0,0,.35) 70%, rgba(10,0,20,.6));
  }

  /* Canvas feux d‚Äôartifice + calque des notes */
  .fx-canvas{ position:fixed; inset:0; z-index:0; pointer-events:none; }
  .fx-layer { position:fixed; inset:0; z-index:1; pointer-events:none; overflow:hidden; }

  /* Contenu */
  .wrap{
    max-width:1100px; width:100%; text-align:center; position:relative; z-index:2;
    margin-top:clamp(1rem,4vh,2.5rem);
  }

  /* Titre */
  h1{
    margin:0 0 .8rem; line-height:1.1;
    font-size:clamp(2.1rem,6vw,4rem); color:var(--or);
    text-shadow:0 3px 0 rgba(0,0,0,.35), 0 0 24px rgba(255,214,116,.25);
  }
  .soustitre{ font-size:clamp(.9rem,2.4vw,1.05rem); letter-spacing:.06em; opacity:.9; margin-bottom:1.2rem; }

  /* ===== Cadre ‚Äúmiroir magique‚Äù pour la citation ===== */
  .cartouche{ margin:0 auto 2rem; max-width:980px; background:none; border:none; padding:0; }
  .mirror{
    position:relative;
    padding: clamp(18px, 3vw, 26px);
    border-radius: 28px;
    background:
      radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,.18), rgba(255,255,255,0) 45%),
      radial-gradient(120% 160% at 80% 90%, rgba(255,255,255,.10), rgba(255,255,255,0) 50%),
      linear-gradient(180deg, rgba(30,10,40,.65), rgba(15,0,20,.65));
    box-shadow:
      0 18px 40px rgba(0,0,0,.35),
      inset 0 1px 0 rgba(255,255,255,.25),
      inset 0 -1px 0 rgba(0,0,0,.25);
    backdrop-filter: blur(8px) saturate(110%);
  }
  /* Liser√© or en ‚Äúglass border‚Äù */
  .mirror::before{
    content:""; position:absolute; inset:0; border-radius:inherit; padding:1px;
    background:linear-gradient(135deg,#ffe6a6,#fff7dc 35%,#ffd674 65%,#ffdba2);
    -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite:xor; mask-composite:exclude;
    box-shadow:0 0 22px rgba(255,214,116,.35);
    pointer-events:none;
  }
  /* Reflet mobile (glare) */
  .mirror::after{
    content:""; position:absolute; inset:-10% -40%; border-radius:inherit;
    background:linear-gradient(100deg, transparent 40%, rgba(255,255,255,.16) 50%, transparent 60%);
    transform:translateX(-60%) rotate(8deg);
    animation:glare 8s linear infinite;
    pointer-events:none;
  }
  @keyframes glare{
    0%{ transform:translateX(-60%) rotate(8deg); }
    100%{ transform:translateX(60%) rotate(8deg); }
  }
  /* Petites pi√®ces d‚Äôangle ‚Äúdor√©es‚Äù fa√ßon supports */
  .mirror .cap{
    position:absolute; width:22px; height:22px; background:
      radial-gradient(circle at 30% 30%, #ffe7ad, #e7b448 70%);
    border-radius:6px;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.65), 0 2px 8px rgba(0,0,0,.25);
  }
  .mirror .cap.tl{ left:10px; top:10px; }
  .mirror .cap.tr{ right:10px; top:10px; }
  .mirror .cap.bl{ left:10px; bottom:10px; }
  .mirror .cap.br{ right:10px; bottom:10px; }

  .citation{
    margin:0;
    font-size:clamp(1.06rem,2.6vw,1.45rem);
    line-height:1.9;
    text-align:center;
    text-shadow:0 1px 0 rgba(0,0,0,.35);
    animation:reveal 1.2s ease both 0.2s;
  }
  .citation .guil{ color:var(--or); font-size:1.4em; text-shadow:0 0 10px rgba(255,214,116,.35); }
  @keyframes reveal{
    from{ opacity:0; filter:blur(6px); transform:translateY(6px); }
    to  { opacity:1; filter:blur(0);  transform:translateY(0); }
  }

  /* Boutons */
  .grille{
    display:grid; gap:1rem; margin:0 auto; max-width:980px;
    grid-template-columns: repeat(12, 1fr);
  }
  .btn{
    grid-column: span 4;
    display:flex; align-items:center; justify-content:center; gap:.6rem;
    text-decoration:none; color:var(--ivoire);
    padding:14px 18px; border-radius:999px;
    border:1px solid var(--bord); background:rgba(0,0,0,.35);
    transition:.25s ease; font-size:1.05rem;
    box-shadow:0 4px 18px rgba(0,0,0,.25);
  }
  .btn:hover{ transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.35); }
  .shop{ grid-column: span 4; position:relative; overflow:hidden; font-weight:700;
    background:linear-gradient(180deg, rgba(255,214,116,.18), rgba(255,214,116,.06));
    border:1px solid var(--or);
  }
  .shop::after{
    content:""; position:absolute; inset:-200% -20%; transform:rotate(12deg);
    background:linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
    animation:shine 3.2s linear infinite;
  }
  @keyframes shine{ 0%{transform:translateX(-60%) rotate(12deg);} 100%{transform:translateX(60%) rotate(12deg);} }
  .ico{
    width:32px; height:32px; border-radius:50%; display:grid; place-items:center; flex:0 0 auto;
    background:radial-gradient(circle at 30% 30%, #ffecb3, #f3c86a); color:#5a2e00;
    box-shadow:inset 0 0 8px rgba(0,0,0,.25), 0 0 12px rgba(255,214,116,.35); font-size:18px;
  }
  .ico.purple{ background:radial-gradient(circle at 30% 30%, #e8d9ff, #b58cff); color:#2a103f; }
  .outline{ background:rgba(0,0,0,.28); font-weight:600; }
  .outline:hover{ background:rgba(0,0,0,.45); }

  @media (max-width:900px){ .btn, .shop{ grid-column: span 6; } }
  @media (max-width:560px){ .btn, .shop{ grid-column: span 12; } .mirror .cap{display:none;} }

  /* ===== Notes ‚Äúvivantes‚Äù ‚Äî apparaissent partout, errent puis r√©apparaissent ===== */
  .note{
    position:absolute;
    will-change:transform, opacity;
    filter:drop-shadow(0 3px 8px rgba(0,0,0,.45));
    font-size: clamp(24px, 3.2vw, 40px);
    opacity:0;
    transform:translate(-50%, -50%) scale(.9) rotate(0deg);
    transition: opacity .8s ease;
    user-select:none;
  }

  @media (prefers-reduced-motion: reduce){
    .fx-canvas{ display:none !important; }
    .note{ display:none !important; }
  }
</style>
</head>
<body>
  <!-- Canvas : FEUX D‚ÄôARTIFICE -->
  <canvas class="fx-canvas" aria-hidden="true"></canvas>

  <!-- Calque des notes -->
  <div class="fx-layer" id="notes-layer" aria-hidden="true"></div>

  <main class="wrap">
    <h1>Bienvenue au monde des Artistes</h1>
    <div class="soustitre">Cr√©ation ‚Ä¢ Harmonie ‚Ä¢ Lumi√®re</div>

    <section class="cartouche">
      <div class="mirror">
        <span class="cap tl" aria-hidden="true"></span>
        <span class="cap tr" aria-hidden="true"></span>
        <span class="cap bl" aria-hidden="true"></span>
        <span class="cap br" aria-hidden="true"></span>
        <p class="citation">
          <span class="guil">¬´</span>
          Ici, les notes dansent, les couleurs vibrent,
          et d‚Äô√©tranges cr√©atures laissent exprimer leur talent √† la lumi√®re‚Ä¶
          <span class="guil">¬ª</span>
        </p>
      </div>
    </section>

    <nav class="grille">
      <a class="btn outline" href="9.entree_Artistes.html">Entr√©e du monde</a>
      <a class="btn shop" href="chanson_de_camidjo.html"><span class="ico">üéµ</span> Camidjo</a>
      <a class="btn shop" href="loup_bout_art.html"><span class="ico purple">üé®</span> Loup-Bout'Art</a>
      <a class="btn outline" href="3.les_mondes.html">‚Üê Retour aux Mondes</a>
    </nav>
  </main>

<!-- ===== Feux d‚Äôartifice (canvas) : mix des 3 styles, densit√© V, palette arc-en-ciel ===== -->
<script>
(function(){
  const c = document.querySelector('.fx-canvas');
  const ctx = c.getContext('2d');
  let dpr = Math.max(1, window.devicePixelRatio || 1), W, H;

  function resize(){
    dpr = Math.max(1, window.devicePixelRatio || 1);
    W = Math.floor(innerWidth * dpr);
    H = Math.floor(innerHeight * dpr);
    c.width = W; c.height = H;
    c.style.width = innerWidth + 'px';
    c.style.height = innerHeight + 'px';
    ctx.globalCompositeOperation = 'lighter';
  }
  resize();
  addEventListener('resize', resize);

  // Particules
  const fireworks = [];
  const pool = [];
  const colors = (n)=>Array.from({length:n},(_,i)=>`hsl(${(i/n)*360} 90% 60%)`);

  function spawnFirework(){
    const x = Math.random()*W;
    const y = Math.random()*H*0.6 + H*0.2; // partout, l√©g√®re pr√©f√©rence zone centrale
    const style = Math.random();            // 0..1 -> type
    const parts = Math.floor(90 + Math.random()*90); // densit√©
    const speed = 1.5 + Math.random()*1.2;
    const palette = colors(12);

    const fw = { x, y, t:0, parts:[], life:0, max:80 + Math.random()*40, style, palette };
    for(let i=0;i<parts;i++){
      const a = (i/parts)*Math.PI*2;
      let vx, vy;
      if(style < 0.33){ // circulaire
        vx = Math.cos(a)*speed;
        vy = Math.sin(a)*speed;
      }else if(style < 0.66){ // chrysanthemum (fuseaux)
        const r = (Math.cos(a*6)+1)/2 + 0.2;
        vx = Math.cos(a)*speed*r*1.6;
        vy = Math.sin(a)*speed*r*1.6;
      }else{ // willow (tombe doucement)
        vx = Math.cos(a)*speed*0.9;
        vy = Math.sin(a)*speed*0.6 + 0.8;
      }
      fw.parts.push({ x, y, vx, vy, alpha:1, col:palette[i%palette.length] });
    }
    fireworks.push(fw);
  }

  // cadence ‚Äúvivante‚Äù
  const interval = 800; // ms entre explosions
  setInterval(spawnFirework, interval);
  // d√©part: quelques feux
  for(let i=0;i<3;i++) setTimeout(spawnFirework, i*250);

  function step(){
    // voile d‚Äôatt√©nuation pour conserver les tra√Æn√©es
    ctx.globalCompositeOperation = 'destination-out';
    ctx.fillStyle = 'rgba(0,0,0,0.08)';
    ctx.fillRect(0,0,W,H);
    ctx.globalCompositeOperation = 'lighter';

    // update / draw
    for(let fi=fireworks.length-1; fi>=0; fi--){
      const fw = fireworks[fi];
      fw.life++;

      for(const p of fw.parts){
        // gravit√© douce + frottement
        p.vy += 0.006 * dpr;
        p.vx *= 0.996;
        p.vy *= 0.996;

        p.x += p.vx * dpr;
        p.y += p.vy * dpr;

        p.alpha *= 0.985;

        // trait
        ctx.strokeStyle = p.col;
        ctx.globalAlpha = Math.max(0, p.alpha);
        ctx.lineWidth = 1.2*dpr;
        ctx.beginPath();
        ctx.moveTo(p.x, p.y);
        ctx.lineTo(p.x - p.vx*3, p.y - p.vy*3);
        ctx.stroke();
      }

      if(fw.life > fw.max) fireworks.splice(fi,1);
    }

    requestAnimationFrame(step);
  }
  const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
  if(!reduce) requestAnimationFrame(step);
})();
</script>

<!-- ===== Notes ‚Äúvivantes‚Äù : 40, apparaissent partout, errent, disparaissent puis respawn ===== -->
<script>
(function(){
  const L = document.getElementById('notes-layer');
  if(!L) return;
  const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
  if(reduce) return;

  const poolSize = 40;           // ‚Üê demand√©
  const glyphs = ['‚ô™','‚ô´','üéµ','üé∂'];
  const notes = [];

  function rand(a,b){ return Math.random()*(b-a)+a; }
  function pick(a){ return a[Math.floor(Math.random()*a.length)]; }

  function spawn(n){
    const el = document.createElement('span');
    el.className = 'note';
    el.textContent = pick(glyphs);
    L.appendChild(el);

    const obj = {
      el,
      x: rand(0, innerWidth),
      y: rand(0, innerHeight),
      vx: rand(-0.25, 0.25),
      vy: rand(-0.18, 0.18),
      rot: rand(-20,20),
      life: 0,
      maxLife: rand(6,12)*60, // frames ~6‚Äì12s
      scale: rand(0.9,1.25)
    };
    el.style.opacity = '0';
    requestAnimationFrame(()=> el.style.opacity = '1');
    notes.push(obj);
  }

  for(let i=0;i<poolSize;i++) spawn();

  function step(){
    for(let i=notes.length-1; i>=0; i--){
      const n = notes[i];
      n.life++;

      // petit bruit pour mouvement organique
      n.vx += rand(-0.01,0.01);
      n.vy += rand(-0.008,0.008);

      n.x += n.vx;
      n.y += n.vy;
      n.rot += (n.vx + n.vy)*0.3;

      // rebonds doux sur les bords
      if(n.x < 0 || n.x > innerWidth) n.vx *= -1;
      if(n.y < 0 || n.y > innerHeight) n.vy *= -1;

      n.el.style.transform = `translate(${n.x}px, ${n.y}px) rotate(${n.rot}deg) scale(${n.scale})`;

      // fin de vie ‚Üí fade-out + respawn ailleurs
      if(n.life > n.maxLife){
        n.el.style.opacity = '0';
        setTimeout(()=>{
          n.el.remove();
          notes.splice(i,1);
          spawn();
        }, 600);
      }
    }
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
})();
</script>
</body>
</html>
