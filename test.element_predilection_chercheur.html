<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Mission du Chercheur</title>
  <style>
    body{
      margin:0;
      background:url('fond_noir_etoile.webp') center/cover no-repeat fixed;
      color:#fff8e6;
      font-family:Georgia, serif;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      gap:24px;
      padding:2em 1.2em;
      text-align:center;
      text-shadow:1px 1px 4px #000;
    }

    /* Titre (garde l'accent doré) */
    h1{
      font-size:2.6em;
      color:#ffd700;
      margin:.2em 0 .1em;
      text-shadow:0 0 12px rgba(255,215,0,.8), 0 2px 0 #3a2a00;
    }
    .surtitre{ opacity:.9; font-size:1.05rem; margin-bottom:.8rem; }

    .texte-mission{
      font-size:1.3em; line-height:1.65; max-width:50ch;
      margin:0 auto 1.2rem;
    }
    .texte-mission p{ margin:1rem 0; }

    /* “– Quête spéciale –” sobre (blanc) */
    .subtle{
      color:#fff8e6;
      font-weight:700;
      letter-spacing:.02em;
      text-shadow:0 0 4px rgba(0,0,0,.6);
    }

    /* Accent fort uniquement sur l’objet de quête */
    .mission-focus{
      font-weight:800;
      color:#ffd700;
      font-size:1.35em;
      text-shadow:0 0 8px rgba(255,215,0,.7), 0 0 16px rgba(255,215,0,.45);
    }

    /* Curseur & glow pour le texte tapé */
    .cursor{
      display:inline-block; width:.6ch; margin-left:.1ch;
      color:#ffd700; animation:blink .8s step-end infinite;
    }
    @keyframes blink{50%{opacity:0}}
    .typed.glow{ text-shadow:0 0 8px #d6b65c, 0 0 18px #ffd700; }
    .cursor.hide{ visibility:hidden; }

    /* Scintillement discret pour “Grimoire des Héros” */
    .scintille-light{
      color:#fff8e6; font-weight:700;
      animation:sparkleLight 3s infinite;
    }
    @keyframes sparkleLight{
      0%,100%{ text-shadow:0 0 4px #ffd700; }
      50%{ text-shadow:0 0 10px #ffffff; }
    }

    /* Bouton */
    .grimoire-link{
      display:inline-block; margin-top:1.2em; padding:.9em 1.6em;
      background:linear-gradient(145deg,#ffd65b,#e6b800); color:#2a1c00;
      font-weight:800; border-radius:14px; text-decoration:none;
      box-shadow:0 0 14px rgba(255,215,0,.6), 0 6px 14px rgba(0,0,0,.4);
      transition:transform .18s ease, filter .18s ease;
    }
    .grimoire-link:hover{ filter:brightness(1.15); transform:translateY(-3px); }

    /* Accessibilité : si l’utilisateur réduit les animations */
    @media (prefers-reduced-motion: reduce){
      .cursor{ animation:none }
      .scintille-light{ animation:none }
    }
  </style>
</head>
<body>
  <h1>Tu es un Chercheur</h1>
  <div class="surtitre">Esprit curieux • Flair des trésors • Patience d’archiviste</div>

  <div class="texte-mission">
    <p>J’ai une quête pour toi :</p>

    <p class="subtle">– Quête spéciale –</p>

    <!-- Ligne qui s’écrit lettre par lettre -->
    <p class="mission-focus">
      <span id="typedText" class="typed"></span><span id="typedCursor" class="cursor">|</span>
    </p>

    <p>Pour la trouver, tu peux te servir du <span class="scintille-light">Grimoire des Héros</span>.</p>
  </div>

  <a href="3.les_heros.html" class="grimoire-link">← Retour</a>

  <script>
    const fullText = "Écaille de Pescadrille Bleu";
    const el = document.getElementById("typedText");
    const cursor = document.getElementById("typedCursor");
    const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function typeText(text, speed=55){
      if (reduceMotion){
        el.textContent = text;
        el.classList.add('glow');
        cursor.classList.add('hide');
        return;
      }
      let i = 0;
      (function step(){
        el.textContent = text.slice(0, i);
        if (i++ <= text.length){
          setTimeout(step, speed);
        } else {
          cursor.classList.add('hide');
          el.classList.add('glow');
        }
      })();
    }

    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => typeText(fullText, 55), 400);
    });
  </script>
</body>
</html>
